{"schemaVersion":{"minor":3,"patch":0,"major":0},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/APIServer\/documentation\/APIServer\/GettingStarted"},"abstract":[{"type":"text","text":"APIServerを使ってVaporベースのサーバーを構築する基本的な方法を学びます。"}],"kind":"article","primaryContentSections":[{"content":[{"text":"Overview","type":"heading","anchor":"Overview","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"APIServerは、Vaporウェブフレームワークをラップしてアプリケーションコードから"},{"type":"text","text":" "},{"type":"text","text":"Vapor固有の実装を隠蔽するライブラリです。"}]},{"text":"インストール","type":"heading","anchor":"%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB","level":2},{"text":"Swift Package Manager","type":"heading","anchor":"Swift-Package-Manager","level":3},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"Package.swift"},{"type":"text","text":"に以下を追加してください："}]},{"type":"codeListing","syntax":"swift","code":["dependencies: [","    .package(url: \"https:\/\/github.com\/no-problem-dev\/swift-api-server.git\", from: \"1.0.0\")","]"]},{"type":"paragraph","inlineContent":[{"text":"ターゲットに追加：","type":"text"}]},{"type":"codeListing","syntax":"swift","code":[".target(","    name: \"YourTarget\",","    dependencies: [","        .product(name: \"APIServer\", package: \"swift-api-server\")","    ]",")"]},{"text":"基本的な使い方","type":"heading","anchor":"%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E4%BD%BF%E3%81%84%E6%96%B9","level":2},{"text":"サーバーの作成","type":"heading","anchor":"%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AE%E4%BD%9C%E6%88%90","level":3},{"type":"codeListing","syntax":"swift","code":["import APIServer","","\/\/ 環境を自動検出してサーバーを作成","let app = try Server.create(environment: .detect())","","\/\/ または明示的に環境を指定","let app = try Server.create(environment: .development)"]},{"text":"ルートの登録","type":"heading","anchor":"%E3%83%AB%E3%83%BC%E3%83%88%E3%81%AE%E7%99%BB%E9%8C%B2","level":3},{"type":"paragraph","inlineContent":[{"text":"直接ルートを登録する方法：","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["app.routes.get(\"health\") { req async throws -> ServerResponse in","    BasicServerResponse(status: .ok, body: [\"status\": \"healthy\"])","}","","app.routes.post(\"users\") { req async throws -> ServerResponse in","    \/\/ リクエストの処理","    BasicServerResponse(status: .created, body: [\"id\": 1])","}"]},{"text":"APIContractを使用したルーティング","type":"heading","anchor":"APIContract%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%97%E3%81%9F%E3%83%AB%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"推奨されるアプローチは、APIContractを使用することです："}]},{"type":"codeListing","syntax":"swift","code":["import APIServer","import APIContract","","struct UserAPI: APIContract {","    static let method: HTTPMethodType = .get","    static let pathTemplate: String = \"\/users\/:id\"","","    typealias PathInput = UserPathInput","    typealias QueryInput = EmptyInput","    typealias BodyInput = EmptyInput","    typealias Output = UserOutput","}","","\/\/ APIContractのマウント","try app.mount(UserAPI.self) { context in","    guard let id = Int(context.input.path.id) else {","        throw APIContractError.invalidInput(message: \"Invalid user ID\")","    }","    return UserOutput(id: id, name: \"User \\(id)\")","}"]},{"text":"サーバーの起動","type":"heading","anchor":"%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AE%E8%B5%B7%E5%8B%95","level":3},{"type":"codeListing","syntax":"swift","code":["try await app.run()"]},{"text":"次のステップ","type":"heading","anchor":"%E6%AC%A1%E3%81%AE%E3%82%B9%E3%83%86%E3%83%83%E3%83%97","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/APIServer\/documentation\/APIServer\/Middleware","type":"reference","isActive":true},{"text":": ミドルウェアの設定方法","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/APIServer\/documentation\/APIServer\/Authentication"},{"text":": 認証の実装方法","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/APIServer\/documentation\/APIServer\/Architecture"},{"text":": 設計思想の詳細","type":"text"}]}]}]}],"kind":"content"}],"variants":[{"paths":["\/documentation\/apiserver\/gettingstarted"],"traits":[{"interfaceLanguage":"swift"}]}],"sections":[],"seeAlsoSections":[{"title":"はじめに","identifiers":["doc:\/\/APIServer\/documentation\/APIServer\/Architecture"],"anchor":"はじめに","generated":true}],"metadata":{"modules":[{"name":"APIServer"}],"roleHeading":"Article","title":"はじめに","role":"article"},"hierarchy":{"paths":[["doc:\/\/APIServer\/documentation\/APIServer"]]},"references":{"doc://APIServer/documentation/APIServer/Architecture":{"abstract":[{"type":"text","text":"APIServerの設計思想と内部構造を理解します。"}],"title":"アーキテクチャ","type":"topic","role":"article","identifier":"doc:\/\/APIServer\/documentation\/APIServer\/Architecture","url":"\/documentation\/apiserver\/architecture","kind":"article"},"doc://APIServer/documentation/APIServer":{"type":"topic","kind":"symbol","url":"\/documentation\/apiserver","role":"collection","abstract":[{"type":"text","text":"Vaporウェブフレームワークの抽象化レイヤー。"}],"identifier":"doc:\/\/APIServer\/documentation\/APIServer","title":"APIServer"},"doc://APIServer/documentation/APIServer/Middleware":{"identifier":"doc:\/\/APIServer\/documentation\/APIServer\/Middleware","role":"article","type":"topic","abstract":[{"text":"リクエスト\/レスポンスパイプラインにミドルウェアを追加する方法を学びます。","type":"text"}],"url":"\/documentation\/apiserver\/middleware","kind":"article","title":"ミドルウェア"},"doc://APIServer/documentation/APIServer/Authentication":{"abstract":[{"type":"text","text":"Bearer トークンによる認証を実装する方法を学びます。"}],"title":"認証","type":"topic","role":"article","identifier":"doc:\/\/APIServer\/documentation\/APIServer\/Authentication","url":"\/documentation\/apiserver\/authentication","kind":"article"}}}