{"metadata":{"title":"APIServer","symbolKind":"module","color":{"standardColorIdentifier":"blue"},"role":"collection","roleHeading":"Framework","modules":[{"name":"APIServer"}],"externalID":"APIServer"},"topicSections":[{"anchor":"はじめに","title":"はじめに","identifiers":["doc:\/\/APIServer\/documentation\/APIServer\/GettingStarted","doc:\/\/APIServer\/documentation\/APIServer\/Architecture"]},{"anchor":"コアコンポーネント","title":"コアコンポーネント","identifiers":["doc:\/\/APIServer\/documentation\/APIServer\/ServerApplication","doc:\/\/APIServer\/documentation\/APIServer\/ServerEnvironment","doc:\/\/APIServer\/documentation\/APIServer\/ServerLogger","doc:\/\/APIServer\/documentation\/APIServer\/HTTPStatus"]},{"anchor":"ルーティング","title":"ルーティング","identifiers":["doc:\/\/APIServer\/documentation\/APIServer\/RouteRegistrar","doc:\/\/APIServer\/documentation\/APIServer\/RouteGroup","doc:\/\/APIServer\/documentation\/APIServer\/MountedGroup"]},{"anchor":"ミドルウェア","title":"ミドルウェア","identifiers":["doc:\/\/APIServer\/documentation\/APIServer\/ServerMiddleware","doc:\/\/APIServer\/documentation\/APIServer\/AuthMiddleware","doc:\/\/APIServer\/documentation\/APIServer\/APIContractErrorMiddleware","doc:\/\/APIServer\/documentation\/APIServer\/Middleware"]},{"anchor":"リクエストレスポンス","title":"リクエスト\/レスポンス","identifiers":["doc:\/\/APIServer\/documentation\/APIServer\/ServerRequest","doc:\/\/APIServer\/documentation\/APIServer\/ServerResponse","doc:\/\/APIServer\/documentation\/APIServer\/BasicServerResponse"]},{"anchor":"認証","title":"認証","identifiers":["doc:\/\/APIServer\/documentation\/APIServer\/AuthenticatedUser","doc:\/\/APIServer\/documentation\/APIServer\/Authentication"]},{"generated":true,"anchor":"Classes","title":"Classes","identifiers":["doc:\/\/APIServer\/documentation\/APIServer\/VaporServerApplication"]},{"generated":true,"anchor":"Structures","title":"Structures","identifiers":["doc:\/\/APIServer\/documentation\/APIServer\/CORSConfiguration","doc:\/\/APIServer\/documentation\/APIServer\/CORSServerMiddleware","doc:\/\/APIServer\/documentation\/APIServer\/ServerRouteGroup","doc:\/\/APIServer\/documentation\/APIServer\/VaporRouteGroup","doc:\/\/APIServer\/documentation\/APIServer\/VaporRouteRegistrar"]},{"generated":true,"anchor":"Enumerations","title":"Enumerations","identifiers":["doc:\/\/APIServer\/documentation\/APIServer\/Server"]},{"generated":true,"anchor":"Extended-Modules","title":"Extended Modules","identifiers":["doc:\/\/APIServer\/documentation\/APIServer\/Foundation","doc:\/\/APIServer\/documentation\/APIServer\/Vapor"]}],"identifier":{"url":"doc:\/\/APIServer\/documentation\/APIServer","interfaceLanguage":"swift"},"schemaVersion":{"major":0,"patch":0,"minor":3},"kind":"symbol","variants":[{"paths":["\/documentation\/apiserver"],"traits":[{"interfaceLanguage":"swift"}]}],"abstract":[{"type":"text","text":"Vaporウェブフレームワークの抽象化レイヤー。"}],"primaryContentSections":[{"kind":"content","content":[{"text":"Overview","type":"heading","anchor":"Overview","level":2},{"inlineContent":[{"text":"APIServerは、アプリケーションコードをVapor固有の実装から独立させるための抽象化レイヤーです。","type":"text"},{"text":" ","type":"text"},{"text":"プロトコルベースの設計により、テスト容易性と将来の拡張性を確保しています。","type":"text"}],"type":"paragraph"},{"text":"特徴","type":"heading","anchor":"%E7%89%B9%E5%BE%B4","level":3},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Vapor抽象化"}]},{"type":"text","text":": アプリケーションコードがVaporに直接依存しない"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"プロトコルベース設計"}]},{"text":": テストしやすく、将来の拡張性を確保","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"APIContract統合","type":"text"}]},{"text":": コントラクトベースのAPI定義と自動ルーティング","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"ミドルウェアシステム"}]},{"text":": CORS、認証、エラーハンドリングを標準装備","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Sendable対応"}],"type":"strong"},{"type":"text","text":": Swift 6の厳格な並行処理に対応"}],"type":"paragraph"}]}]},{"text":"クイックスタート","type":"heading","anchor":"%E3%82%AF%E3%82%A4%E3%83%83%E3%82%AF%E3%82%B9%E3%82%BF%E3%83%BC%E3%83%88","level":3},{"code":["import APIServer","import APIContract","","\/\/ サーバーの作成と起動","let app = try Server.create(environment: .detect())","","\/\/ APIContractのマウント","try app.mount(UserAPI.self) { context in","    UserOutput(id: context.input.path.id, name: \"User\")","}","","\/\/ ミドルウェアの追加","app.middleware.use(CORSMiddleware(allowedOrigins: [\"*\"]))","app.middleware.use(APIContractErrorMiddleware())","","try await app.run()"],"type":"codeListing","syntax":"swift"}]}],"sections":[],"hierarchy":{"paths":[[]]},"references":{"doc://APIServer/documentation/APIServer/RouteGroup":{"title":"RouteGroup","url":"\/documentation\/apiserver\/routegroup","navigatorTitle":[{"kind":"identifier","text":"RouteGroup"}],"role":"symbol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"RouteGroup"}],"identifier":"doc:\/\/APIServer\/documentation\/APIServer\/RouteGroup","kind":"symbol","type":"topic","abstract":[{"type":"text","text":"ルートグループプロトコル"}]},"doc://APIServer/documentation/APIServer/Architecture":{"identifier":"doc:\/\/APIServer\/documentation\/APIServer\/Architecture","kind":"article","url":"\/documentation\/apiserver\/architecture","type":"topic","title":"アーキテクチャ","role":"article","abstract":[{"type":"text","text":"APIServerの設計思想と内部構造を理解します。"}]},"doc://APIServer/documentation/APIServer/ServerRequest":{"fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"ServerRequest"}],"type":"topic","url":"\/documentation\/apiserver\/serverrequest","identifier":"doc:\/\/APIServer\/documentation\/APIServer\/ServerRequest","role":"symbol","title":"ServerRequest","kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"ServerRequest"}],"abstract":[{"text":"サーバーリクエストプロトコル","type":"text"}]},"doc://APIServer/documentation/APIServer/APIContractErrorMiddleware":{"role":"symbol","title":"APIContractErrorMiddleware","navigatorTitle":[{"text":"APIContractErrorMiddleware","kind":"identifier"}],"identifier":"doc:\/\/APIServer\/documentation\/APIServer\/APIContractErrorMiddleware","kind":"symbol","url":"\/documentation\/apiserver\/apicontracterrormiddleware","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"APIContractErrorMiddleware","kind":"identifier"}],"abstract":[{"text":"APIContract用のエラーミドルウェア","type":"text"}],"type":"topic"},"doc://APIServer/documentation/APIServer/ServerMiddleware":{"fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ServerMiddleware","kind":"identifier"}],"title":"ServerMiddleware","role":"symbol","type":"topic","identifier":"doc:\/\/APIServer\/documentation\/APIServer\/ServerMiddleware","url":"\/documentation\/apiserver\/servermiddleware","navigatorTitle":[{"text":"ServerMiddleware","kind":"identifier"}],"kind":"symbol","abstract":[{"text":"サーバーミドルウェアプロトコル","type":"text"}]},"doc://APIServer/documentation/APIServer":{"kind":"symbol","title":"APIServer","url":"\/documentation\/apiserver","identifier":"doc:\/\/APIServer\/documentation\/APIServer","type":"topic","role":"collection","abstract":[{"type":"text","text":"Vaporウェブフレームワークの抽象化レイヤー。"}]},"doc://APIServer/documentation/APIServer/Server":{"title":"Server","kind":"symbol","navigatorTitle":[{"text":"Server","kind":"identifier"}],"abstract":[{"type":"text","text":"サーバーファクトリ"}],"identifier":"doc:\/\/APIServer\/documentation\/APIServer\/Server","role":"symbol","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Server","kind":"identifier"}],"url":"\/documentation\/apiserver\/server","type":"topic"},"doc://APIServer/documentation/APIServer/ServerLogger":{"kind":"symbol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"ServerLogger"}],"role":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"ServerLogger"}],"identifier":"doc:\/\/APIServer\/documentation\/APIServer\/ServerLogger","url":"\/documentation\/apiserver\/serverlogger","title":"ServerLogger","abstract":[{"type":"text","text":"サーバーログ出力プロトコル"}]},"doc://APIServer/documentation/APIServer/VaporRouteGroup":{"kind":"symbol","role":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"VaporRouteGroup"}],"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"VaporRouteGroup"}],"url":"\/documentation\/apiserver\/vaporroutegroup","identifier":"doc:\/\/APIServer\/documentation\/APIServer\/VaporRouteGroup","abstract":[{"type":"text","text":"VaporベースのRouteGroup実装"}],"title":"VaporRouteGroup"},"doc://APIServer/documentation/APIServer/RouteRegistrar":{"title":"RouteRegistrar","role":"symbol","abstract":[{"type":"text","text":"ルート登録プロトコル"}],"fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"RouteRegistrar","kind":"identifier"}],"kind":"symbol","identifier":"doc:\/\/APIServer\/documentation\/APIServer\/RouteRegistrar","navigatorTitle":[{"text":"RouteRegistrar","kind":"identifier"}],"type":"topic","url":"\/documentation\/apiserver\/routeregistrar"},"doc://APIServer/documentation/APIServer/BasicServerResponse":{"role":"symbol","identifier":"doc:\/\/APIServer\/documentation\/APIServer\/BasicServerResponse","abstract":[{"text":"基本的なレスポンス実装","type":"text"}],"kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"BasicServerResponse"}],"title":"BasicServerResponse","url":"\/documentation\/apiserver\/basicserverresponse","type":"topic","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"BasicServerResponse"}]},"doc://APIServer/documentation/APIServer/AuthMiddleware":{"title":"AuthMiddleware","url":"\/documentation\/apiserver\/authmiddleware","type":"topic","role":"symbol","abstract":[{"text":"認証ミドルウェア","type":"text"}],"identifier":"doc:\/\/APIServer\/documentation\/APIServer\/AuthMiddleware","kind":"symbol","navigatorTitle":[{"text":"AuthMiddleware","kind":"identifier"}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"AuthMiddleware","kind":"identifier"}]},"doc://APIServer/documentation/APIServer/Authentication":{"kind":"article","type":"topic","title":"認証","url":"\/documentation\/apiserver\/authentication","role":"article","abstract":[{"type":"text","text":"Bearer トークンによる認証を実装する方法を学びます。"}],"identifier":"doc:\/\/APIServer\/documentation\/APIServer\/Authentication"},"doc://APIServer/documentation/APIServer/VaporServerApplication":{"kind":"symbol","url":"\/documentation\/apiserver\/vaporserverapplication","role":"symbol","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"VaporServerApplication"}],"identifier":"doc:\/\/APIServer\/documentation\/APIServer\/VaporServerApplication","type":"topic","abstract":[{"text":"Vaporベースのサーバーアプリケーション実装","type":"text"}],"title":"VaporServerApplication","navigatorTitle":[{"kind":"identifier","text":"VaporServerApplication"}]},"doc://APIServer/documentation/APIServer/CORSServerMiddleware":{"abstract":[{"type":"text","text":"CORS（Cross-Origin Resource Sharing）ミドルウェア"}],"role":"symbol","type":"topic","url":"\/documentation\/apiserver\/corsservermiddleware","navigatorTitle":[{"text":"CORSServerMiddleware","kind":"identifier"}],"kind":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"CORSServerMiddleware","kind":"identifier"}],"identifier":"doc:\/\/APIServer\/documentation\/APIServer\/CORSServerMiddleware","title":"CORSServerMiddleware"},"doc://APIServer/documentation/APIServer/ServerResponse":{"type":"topic","kind":"symbol","title":"ServerResponse","identifier":"doc:\/\/APIServer\/documentation\/APIServer\/ServerResponse","role":"symbol","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ServerResponse","kind":"identifier"}],"navigatorTitle":[{"text":"ServerResponse","kind":"identifier"}],"url":"\/documentation\/apiserver\/serverresponse","abstract":[{"type":"text","text":"サーバーレスポンスプロトコル"}]},"doc://APIServer/documentation/APIServer/MountedGroup":{"title":"MountedGroup","kind":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"MountedGroup"}],"navigatorTitle":[{"kind":"identifier","text":"MountedGroup"}],"identifier":"doc:\/\/APIServer\/documentation\/APIServer\/MountedGroup","type":"topic","abstract":[{"text":"マウントされたAPIグループ","type":"text"}],"role":"symbol","url":"\/documentation\/apiserver\/mountedgroup"},"doc://APIServer/documentation/APIServer/Middleware":{"url":"\/documentation\/apiserver\/middleware","identifier":"doc:\/\/APIServer\/documentation\/APIServer\/Middleware","role":"article","title":"ミドルウェア","abstract":[{"type":"text","text":"リクエスト\/レスポンスパイプラインにミドルウェアを追加する方法を学びます。"}],"kind":"article","type":"topic"},"doc://APIServer/documentation/APIServer/VaporRouteRegistrar":{"abstract":[{"type":"text","text":"VaporベースのRouteRegistrar実装"}],"type":"topic","title":"VaporRouteRegistrar","navigatorTitle":[{"text":"VaporRouteRegistrar","kind":"identifier"}],"identifier":"doc:\/\/APIServer\/documentation\/APIServer\/VaporRouteRegistrar","kind":"symbol","role":"symbol","url":"\/documentation\/apiserver\/vaporrouteregistrar","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"VaporRouteRegistrar","kind":"identifier"}]},"doc://APIServer/documentation/APIServer/HTTPStatus":{"type":"topic","url":"\/documentation\/apiserver\/httpstatus","identifier":"doc:\/\/APIServer\/documentation\/APIServer\/HTTPStatus","kind":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"HTTPStatus","kind":"identifier"}],"role":"symbol","navigatorTitle":[{"text":"HTTPStatus","kind":"identifier"}],"abstract":[{"text":"HTTPステータスコード","type":"text"}],"title":"HTTPStatus"},"doc://APIServer/documentation/APIServer/ServerEnvironment":{"abstract":[{"type":"text","text":"サーバー実行環境"}],"url":"\/documentation\/apiserver\/serverenvironment","role":"symbol","kind":"symbol","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ServerEnvironment","kind":"identifier"}],"type":"topic","identifier":"doc:\/\/APIServer\/documentation\/APIServer\/ServerEnvironment","title":"ServerEnvironment","navigatorTitle":[{"text":"ServerEnvironment","kind":"identifier"}]},"doc://APIServer/documentation/APIServer/GettingStarted":{"abstract":[{"text":"APIServerを使ってVaporベースのサーバーを構築する基本的な方法を学びます。","type":"text"}],"url":"\/documentation\/apiserver\/gettingstarted","identifier":"doc:\/\/APIServer\/documentation\/APIServer\/GettingStarted","type":"topic","role":"article","kind":"article","title":"はじめに"},"doc://APIServer/documentation/APIServer/ServerRouteGroup":{"abstract":[{"text":"サーバールートグループ（Vapor非依存インターフェース）","type":"text"}],"title":"ServerRouteGroup","kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"ServerRouteGroup"}],"identifier":"doc:\/\/APIServer\/documentation\/APIServer\/ServerRouteGroup","role":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"ServerRouteGroup"}],"type":"topic","url":"\/documentation\/apiserver\/serverroutegroup"},"doc://APIServer/documentation/APIServer/AuthenticatedUser":{"type":"topic","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"AuthenticatedUser"}],"role":"symbol","url":"\/documentation\/apiserver\/authenticateduser","title":"AuthenticatedUser","abstract":[{"type":"text","text":"認証済みユーザーを表す型"}],"identifier":"doc:\/\/APIServer\/documentation\/APIServer\/AuthenticatedUser","kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"AuthenticatedUser"}]},"doc://APIServer/documentation/APIServer/Foundation":{"identifier":"doc:\/\/APIServer\/documentation\/APIServer\/Foundation","abstract":[],"kind":"symbol","role":"collection","type":"topic","url":"\/documentation\/apiserver\/foundation","title":"Foundation"},"doc://APIServer/documentation/APIServer/Vapor":{"title":"Vapor","abstract":[],"type":"topic","role":"collection","url":"\/documentation\/apiserver\/vapor","identifier":"doc:\/\/APIServer\/documentation\/APIServer\/Vapor","kind":"symbol"},"doc://APIServer/documentation/APIServer/ServerApplication":{"identifier":"doc:\/\/APIServer\/documentation\/APIServer\/ServerApplication","title":"ServerApplication","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"ServerApplication"}],"type":"topic","abstract":[{"text":"サーバーアプリケーションプロトコル","type":"text"}],"kind":"symbol","url":"\/documentation\/apiserver\/serverapplication","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"ServerApplication"}]},"doc://APIServer/documentation/APIServer/CORSConfiguration":{"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"CORSConfiguration","kind":"identifier"}],"title":"CORSConfiguration","role":"symbol","navigatorTitle":[{"text":"CORSConfiguration","kind":"identifier"}],"kind":"symbol","type":"topic","abstract":[{"text":"CORS設定","type":"text"}],"url":"\/documentation\/apiserver\/corsconfiguration","identifier":"doc:\/\/APIServer\/documentation\/APIServer\/CORSConfiguration"}}}